<div class="relative w-full mx-auto overflow-hidden text-xl">

  <div x-data="filters" class="container relative cursor-pointer group">
    <div @click="toggleIsOpen" class="relative left-0 w-full flex justify-between py-3 items-center">
      <button class="md:px-10">
        Filtry
      </button>
      <svg class="w-4 h-4 duration-200 ease-out md:mr-10" :class="{ 'rotate-180': isOpen }" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
    </div>

    <div class="relative flex flex-col gap-4 lg:-translate-y-[2.4rem] md:!overflow-visible" x-show="isOpen" x-collapse.min.0px x-cloak>
      <div class="flex flex-col sm:flex-row sm:w-5/6 sm:max-w-[400px] lg:max-w-none justify-evenly gap-10 mx-auto flex-wrap whitespace-nowrap">
        <div class="flex flex-col flex-1 min-w-fit max-w-[200px] overflow-hidden gap-3 md:items-start">
          <p class="text-center self-center">Sortowanie</p>
          <template x-for="(item, index) in sortOptions">
            {% render 'checkbox',
            id: ':id="item.value + index"',
            for: ':for="item.value + index"',
            value: ':value="item.value"',
            checked: ':checked="selectedSortOption === item.value"',
            click: '@click="updateSortOption($event.target.value)"',
            text: 'x-text="item.label"' %}
          </template>
        </div>
        <div class="flex flex-col flex-1 min-w-fit max-w-[200px]  gap-3">
          <p class="text-center">Kolorystycznie</p>
          <template x-for="(item, index) in colorOptions">
            {% render 'checkbox',
            id: ':id="item.value + index"',
            for: ':for="item.value + index"',
            value: ':value="item.value"',
            checked: ':checked="selectedColorOption === item.value"',
            click: '@click="updateColorOption($event.target.value)"',
            text: 'x-text="item.label"' %}
          </template>
        </div>
        <div class="flex flex-col flex-1 min-w-fit max-w-[200px]  gap-3">
          <p class="text-center">Materiał</p>
          <template x-for="(item, index) in materialOptions">
            {% render 'checkbox',
            id: ':id="item.value + index"',
            for: ':for="item.value + index"',
            value: ':value="item.value"',
            checked: ':checked="selectedMaterialOption === item.value"',
            click: '@click="updateMaterialOption($event.target.value)"',
            text: 'x-text="item.label"' %}
          </template>
        </div>
        <div class="flex flex-col flex-1 min-w-fit max-w-[200px]  gap-3">
          <p class="text-center">Dostępność</p>
          {% render 'checkbox', 
          model: 'x-model="isAvailable"',
          id: 'id="is-available-checkbox"',
          for: 'for="is-available-checkbox"',
          content: 'Dostępne'
         %}
          {% render 'checkbox',
            model: 'x-model="isLastOne"',
            id: 'id="is-last-one-checkbox"',
            for: 'for="is-last-one-checkbox"',
            content: 'Ostatnie sztuki'
          %}
        </div>
      </div>
      <div class="flex gap-4 w-1/5 self-center">
        <button class="button flex-1" @click="resetFilters()">Wyczyść</button>
        <button class="button flex-1" @click="submitFilters()">Filtruj</button>
      </div>
    </div>
  </div>
</div>